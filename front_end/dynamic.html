<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Intro to MapView - Create a 2D map</title>
    <style>
        html, body, #viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }
    </style>
    <link rel="stylesheet" href="https://js.arcgis.com/4.8/esri/css/main.css">
    <script src="https://js.arcgis.com/4.8/"></script>
    <script>
        require([
            "esri/Map",
            "esri/views/MapView",
            "esri/layers/MapImageLayer",

            "dojo/domReady!"
        ], function(Map, MapView,MapImageLayer){
            var map = new Map({
            basemap:"osm"
            });
            var view = new MapView({
                container: "viewDiv",  // Reference to the scene div created in step 5
                map: map,  // Reference to the map object created before the scene
                zoom: 5,  // Sets zoom level based on level of detail (LOD)
                center: [112.537674, 37.871594]  // Sets center point of view using longitude,latitude


            });

            //dongtaituceng
            var wLayer = new MapImageLayer({
                url: "https://localhost:6443/arcgis/rest/services/w/MapServer",
                sublayers: [
                    {
                        id: 3,
                        visible: true
                    }, {
                        id: 2,
                        visible: true
                    }, {
                        id: 1,
                        visible: true
                    },{
                        id: 0,
                        visible: true
                    }]

            });
            map.add(wLayer);
        });
    </script>
</head>
<body>
<div id="viewDiv"></div>
</body>
</html>